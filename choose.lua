require("libs.colliderLib")
require("map_01")

ChoosingMenu = {}

choosed_map_01 = false
choosed_map_02 = false

function ChoosingMenu.init()
    Map_1_GFX = love.graphics.newImage("gfx/map.png")
    Map_2_GFX = love.graphics.newImage("gfx/map_2.png")
end

function ChoosingMenu.update(dt)
    if choosed_map_01 == false then
        UpdateClicks()
        if IsBoxClickDown(100,330,205,40) then
            onload()
            choosed_map_01 = true
        end
        if IsBoxClickDown(100,430,205,40) then
            print("RESET")
            resetFile1 = io.open("data/land.dat", "w+")
            resetFile2 = io.open("data/stats.dat", "w+")
            io.close(resetFile1)
            io.close(resetFile2)
        end
    elseif choosed_map_01 then
        Update(dt)
    end
end

function ChoosingMenu.draw()
    if choosed_map_01 == false then
        love.graphics.setFont(love.graphics.newFont(20))

        love.graphics.draw(Map_1_GFX,100,70, 0, 0.2, 0.2)
        love.graphics.print("Default Island",135,45)
        love.graphics.setFont(love.graphics.newFont(12))
        love.graphics.print("The dev official map !,\n ease of surviving tho !", 135,285)

        love.graphics.setFont(love.graphics.newFont(20))

        love.graphics.draw(Map_2_GFX,720-100*3,70, 0, 0.2, 0.2)
        love.graphics.print("Deserted Island",720-137*2,45)
        love.graphics.setFont(love.graphics.newFont(12))
        love.graphics.print("           The second official map !\nBut, in random times your worker will die", 720-158*2,285)

        love.graphics.setFont(love.graphics.newFont(20))
        love.graphics.setColor(1,1,1,1)
        love.graphics.rectangle("fill",100,330,205,40)
        love.graphics.setColor(0,0,0,1)
        love.graphics.print("Select",170,340)

        love.graphics.setFont(love.graphics.newFont(20))
        love.graphics.setColor(1,1,1,1)
        love.graphics.rectangle("fill",100,430,205,40)
        love.graphics.setColor(0,0,0,1)
        love.graphics.print("Reset",170,440)
    elseif choosed_map_01 then
        draw()
    elseif choosed_map_02 then
        Map_02.draw()
    end
end